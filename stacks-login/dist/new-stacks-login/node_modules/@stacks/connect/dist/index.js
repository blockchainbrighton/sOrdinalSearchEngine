'use strict';

var auth = require('@stacks/auth');
var jsontokens = require('jsontokens');
var connectUi = require('@stacks/connect-ui');
var network = require('@stacks/network');
var transactions = require('@stacks/transactions');
var loader = require('@stacks/connect-ui/loader');

var V=Object.defineProperty,_=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var m=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t||(t={}))P.call(t,n)&&m(e,n,t[n]);if(A)for(var n of A(t))h.call(t,n)&&m(e,n,t[n]);return e},u=(e,t)=>_(e,$(t));var d=(e,t)=>{var n={};for(var r in e)P.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&A)for(var r of A(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n};function l(){return connectUi.getProviderFromId(connectUi.getSelectedProviderId())||window.StacksProvider||window.BlockstackProvider}function ce(){return !!l()}var de="https://app.blockstack.org";typeof window!="undefined"&&(window.__CONNECT_VERSION__="__VERSION__");var rt=()=>{let e=navigator.userAgent;return /android/i.test(e)||/iPad|iPhone|iPod/.test(e)?!0:/windows phone/i.test(e)},Me=()=>!rt(),O=e=>{if(!e){let t=new auth.AppConfig(["store_write"],document.location.href);e=new auth.UserSession({appConfig:t});}return e},E=async(e,t=l())=>{if(!t)throw new Error("[Connect] No installed Stacks wallet found");let{redirectTo:n="/",manifestPath:r,onFinish:i,onCancel:o,sendToSignIn:a=!1,userSession:p,appDetails:g}=e,c=O(p);c.isUserSignedIn()&&c.signUserOut();let y=c.generateAndStoreTransitKey(),T=c.makeAuthRequest(y,`${document.location.origin}${n}`,`${document.location.origin}${r}`,c.appConfig.scopes,void 0,void 0,{sendToSignIn:a,appDetails:g,connectVersion:"__VERSION__"});try{let f=await t.authenticationRequest(T);await c.handlePendingSignIn(f);let C=jsontokens.decodeToken(f),K=C==null?void 0:C.payload;i==null||i({authResponse:f,authResponsePayload:K,userSession:c});}catch(f){console.error("[Connect] Error during auth request",f),o==null||o();}},Se=async e=>(e=O(e),e.isUserSignedIn()?e.loadUserData():e.isSignInPending()?e.handlePendingSignIn():null);var ot=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function D(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n of e)t+=ot[n];return t}function k(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){let i=r*2,o=t.slice(i,i+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a;}return n}var it=(r=>(r.ContractCall="contract_call",r.ContractDeploy="smart_contract",r.STXTransfer="token_transfer",r))(it||{}),st=(o=>(o.BUFFER="buffer",o.UINT="uint",o.INT="int",o.PRINCIPAL="principal",o.BOOL="bool",o))(st||{});var x=e=>{let t=e;if(!t){let n=new auth.AppConfig(["store_write"],document.location.href);t=new auth.UserSession({appConfig:n});}return t};function M(e){try{return x(e).loadUserData().appPrivateKey}catch(t){return !1}}var S=e=>{let n=x(e).loadUserData().appPrivateKey,r=jsontokens.SECP256K1Client.derivePublicKey(n);return {privateKey:n,publicKey:r}};function yt(e){var p;let{stxAddress:t,userSession:n,network:r}=e;if(t)return t;if(!n||!r)return;let i=(p=n==null?void 0:n.loadUserData().profile)==null?void 0:p.stxAddress,o={[transactions.ChainID.Mainnet]:"mainnet",[transactions.ChainID.Testnet]:"testnet"};return i==null?void 0:i[o[r.chainId]]}function ft(e){let t=e.network||new network.StacksTestnet,n=x(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({stxAddress:yt(r)},r)}function U(e){return e.map(t=>D(transactions.serializePostCondition(t)))}async function w(e,t){let{postConditions:n}=e;return n&&typeof n[0]!="string"&&(n=U(n)),new jsontokens.TokenSigner("ES256k",t).signAsync(u(s({},e),{postConditions:n}))}function j(e){let{postConditions:t}=e;return t&&typeof t[0]!="string"&&(t=U(t)),jsontokens.createUnsecuredToken(u(s({},e),{postConditions:t}))}var xt=async({token:e,options:t},n)=>{var r,i,o;try{let a=await n.transactionRequest(e),{txRaw:p}=a,g=k(p.replace(/^0x/,"")),c=transactions.deserializeTransaction(g);if("sponsored"in t&&t.sponsored){(r=t.onFinish)==null||r.call(t,u(s({},a),{stacksTransaction:c}));return}(i=t.onFinish)==null||i.call(t,u(s({},a),{stacksTransaction:c}));}catch(a){console.error("[Connect] Error during transaction request",a),(o=t.onCancel)==null||o.call(t);}},It=async e=>{let p=e,{functionArgs:t,appDetails:n,userSession:r}=p,i=d(p,["functionArgs","appDetails","userSession"]),o=t.map(g=>typeof g=="string"?g:D(transactions.serializeCV(g)));if(M(r)){let{privateKey:g,publicKey:c}=S(r),y=u(s({},i),{functionArgs:o,txType:"contract_call",publicKey:c});return n&&(y.appDetails=n),w(y,g)}let a=u(s({},i),{functionArgs:o,txType:"contract_call"});return n&&(a.appDetails=n),j(a)},Dt=async e=>{let o=e,{appDetails:t,userSession:n}=o,r=d(o,["appDetails","userSession"]);if(M(n)){let{privateKey:a,publicKey:p}=S(n),g=u(s({},r),{publicKey:p,txType:"smart_contract"});return t&&(g.appDetails=t),w(g,a)}let i=u(s({},r),{txType:"smart_contract"});return t&&(i.appDetails=t),j(i)},Tt=async e=>{let a=e,{amount:t,appDetails:n,userSession:r}=a,i=d(a,["amount","appDetails","userSession"]);if(M(r)){let{privateKey:p,publicKey:g}=S(r),c=u(s({},i),{amount:t.toString(10),publicKey:g,txType:"token_transfer"});return n&&(c.appDetails=n),w(c,p)}let o=u(s({},i),{amount:t.toString(10),txType:"token_transfer"});return n&&(o.appDetails=n),j(o)},At=async e=>{let a=e,{txHex:t,appDetails:n,userSession:r}=a,i=d(a,["txHex","appDetails","userSession"]);if(M(r)){let{privateKey:p,publicKey:g}=S(r),c=u(s({},i),{txHex:t,publicKey:g});return n&&(c.appDetails=n),w(c,p)}let o=u(s({},i),{txHex:t});return n&&(o.appDetails=n),j(o)};async function L(e,t,n){let r=await t(s(s({},ft(e)),e));return xt({token:r,options:e},n)}function z(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return L(e,It,t)}function v(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return L(e,Dt,t)}function R(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return L(e,Tt,t)}function B(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return L(e,At,t)}async function Ct(e,t){return new jsontokens.TokenSigner("ES256k",t).signAsync(s({},e))}function Nt(e){let t=e.network||new network.StacksTestnet,n=x(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({},r)}async function mt({token:e,options:t},n){var r,i;if(!n)throw new Error("[Connect] No installed Stacks wallet found");try{let o=await n.psbtRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error("[Connect] Error during psbt request",o),(i=t.onCancel)==null||i.call(t);}}var Pt=async e=>{let p=e,{allowedSighash:t,hex:n,signAtIndex:r,userSession:i}=p,o=d(p,["allowedSighash","hex","signAtIndex","userSession"]);if(M(i)){let{privateKey:g,publicKey:c}=S(i),y=u(s({},o),{allowedSighash:t,hex:n,signAtIndex:r,publicKey:c});return Ct(y,g)}let a=s({},o);return jsontokens.createUnsecuredToken(a)};async function ht(e,t,n){let r=await t(s(s({},Nt(e)),e));return mt({token:r,options:e},n)}function Y(e,t=l()){return ht(e,Pt,t)}function bt(e){var a;let{userSession:t,network:n}=e;if(!t||!n)return;let r=(a=t==null?void 0:t.loadUserData().profile)==null?void 0:a.stxAddress,i={[transactions.ChainID.Mainnet]:"mainnet",[transactions.ChainID.Testnet]:"testnet"};return r==null?void 0:r[i[n.chainId]]}async function Ut(e,t){return new jsontokens.TokenSigner("ES256k",t).signAsync(s({},e))}function N(e){let t=e.network||new network.StacksTestnet,n=x(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({stxAddress:bt(r)},r)}async function zt({token:e,options:t},n){var r,i;try{let o=await n.signatureRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error("[Connect] Error during signature request",o),(i=t.onCancel)==null||i.call(t);}}var vt=async e=>{let i=e,{userSession:t}=i,n=d(i,["userSession"]);if(M(t)){let{privateKey:o,publicKey:a}=S(t),p=u(s({},n),{publicKey:a});return Ut(p,o)}let r=s({},n);return jsontokens.createUnsecuredToken(r)};async function Rt(e,t,n){let r=await t(s(s({},N(e)),e));return zt({token:r,options:e},n)}function G(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return Rt(e,vt,t)}async function Qt(e,t,n){let r=await t(s(s({},N(e)),e));return Ft({token:r,options:e},n)}function F(e){return u(s({},e),{message:D(transactions.serializeCV(e.message)),domain:D(transactions.serializeCV(e.domain))})}async function Gt(e,t){return new jsontokens.TokenSigner("ES256k",t).signAsync(F(e))}async function qt(e){let r=e,{userSession:t}=r,n=d(r,["userSession"]);if(M(t)){let{privateKey:i,publicKey:o}=S(t),a=u(s({},n),{publicKey:o});return Gt(a,i)}return jsontokens.createUnsecuredToken(F(e))}async function Ft({token:e,options:t},n){var r,i;try{let o=await n.structuredDataSignatureRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error("[Connect] Error during signature request",o),(i=t.onCancel)==null||i.call(t);}}function Z(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return Qt(e,qt,t)}async function Kt(e,t){return new jsontokens.TokenSigner("ES256k",t).signAsync(s({},e))}function Vt(e){let t=e.network||new network.StacksTestnet,n=x(e.userSession),r=u(s({},e),{network:t,userSession:n});return s({},r)}async function _t({token:e,options:t},n){var r,i;try{let o=await n.profileUpdateRequest(e);(r=t.onFinish)==null||r.call(t,o);}catch(o){console.error("[Connect] Error during signature request",o),(i=t.onCancel)==null||i.call(t);}}var $t=async e=>{let o=e,{userSession:t,profile:n}=o,r=d(o,["userSession","profile"]);if(M(t)){let{privateKey:a,publicKey:p}=S(t),g=u(s({},r),{profile:n,publicKey:p});return Kt(g,a)}let i=s({},r);return jsontokens.createUnsecuredToken(i)};async function Jt(e,t,n){let r=await t(s(s({},Vt(e)),e));return _t({token:r,options:e},n)}function W(e,t=l()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return Jt(e,$t,t)}var Ht=(o=>(o[o.DEFAULT=0]="DEFAULT",o[o.ALL=1]="ALL",o[o.NONE=2]="NONE",o[o.SINGLE=3]="SINGLE",o[o.ANYONECANPAY=128]="ANYONECANPAY",o))(Ht||{});var X=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://addons.mozilla.org/en-US/firefox/addon/hiro-wallet",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=io.hiro.wallet",iOSAppStoreUrl:"https://apps.apple.com/app/hiro-wallet/id1492380872"},{id:"XverseProviders.StacksProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513"},{id:"AsignaProvider",name:"Asigna",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/asigna-multisig/gopddoinbenlokghakiafackadkbnlid"}];function I(e,t=!0){return function(r,i){var T;if(i)return e(r,i);let o=connectUi.getSelectedProviderId(),a=l();if(o&&a)return e(r,a);if(typeof window=="undefined")return;loader.defineCustomElements(window);let p=(T=r==null?void 0:r.defaultProviders)!=null?T:X,g=connectUi.getInstalledProviders(p),c=document.createElement("connect-modal");c.defaultProviders=p,c.installedProviders=g,c.persistSelection=t,c.callback=f=>e(r,f),document.body.appendChild(c);let y=f=>{f.key==="Escape"&&(document.removeEventListener("keydown",y),c.remove());};document.addEventListener("keydown",y);}}var oe=I(E,!1),xn=I(R),In=I(z),Dn=I(v),Tn=I(B),An=I(Y),wn=I(W),jn=I(G),Ln=I(Z),Cn=connectUi.clearSelectedProviderId,Nn=oe;

Object.defineProperty(exports, 'clearSelectedProviderId', {
	enumerable: true,
	get: function () { return connectUi.clearSelectedProviderId; }
});
Object.defineProperty(exports, 'getSelectedProviderId', {
	enumerable: true,
	get: function () { return connectUi.getSelectedProviderId; }
});
Object.defineProperty(exports, 'setSelectedProviderId', {
	enumerable: true,
	get: function () { return connectUi.setSelectedProviderId; }
});
exports.ContractCallArgumentType = st;
exports.DEFAULT_PROVIDERS = X;
exports.SignatureHash = Ht;
exports.TransactionTypes = it;
exports.authenticate = E;
exports.defaultAuthURL = de;
exports.disconnect = Cn;
exports.getDefaultProfileUpdateRequestOptions = Vt;
exports.getDefaultPsbtRequestOptions = Nt;
exports.getDefaultSignatureRequestOptions = N;
exports.getKeys = S;
exports.getOrCreateUserSession = O;
exports.getStacksProvider = l;
exports.getStxAddress = yt;
exports.getUserData = Se;
exports.getUserSession = x;
exports.hasAppPrivateKey = M;
exports.isMobile = rt;
exports.isStacksWalletInstalled = ce;
exports.makeContractCallToken = It;
exports.makeContractDeployToken = Dt;
exports.makeProfileUpdateToken = $t;
exports.makePsbtToken = Pt;
exports.makeSTXTransferToken = Tt;
exports.makeSignTransaction = At;
exports.openContractCall = z;
exports.openContractDeploy = v;
exports.openProfileUpdateRequestPopup = W;
exports.openPsbtRequestPopup = Y;
exports.openSTXTransfer = R;
exports.openSignTransaction = B;
exports.openSignatureRequestPopup = G;
exports.openStructuredDataSignatureRequestPopup = Z;
exports.shouldUsePopup = Me;
exports.showBlockstackConnect = Nn;
exports.showConnect = oe;
exports.showContractCall = In;
exports.showContractDeploy = Dn;
exports.showProfileUpdate = wn;
exports.showPsbt = An;
exports.showSTXTransfer = xn;
exports.showSignMessage = jn;
exports.showSignStructuredMessage = Ln;
exports.showSignTransaction = Tn;
exports.signMessage = vt;
exports.signStructuredMessage = qt;
Object.keys(auth).forEach(function (k) {
	if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {
		enumerable: true,
		get: function () { return auth[k]; }
	});
});
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map